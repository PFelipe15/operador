# Ferramentas Cont√°beis para Operadores - Vers√£o 2.0

## Vis√£o Geral

O sistema agora conta com ferramentas cont√°beis completamente funcionais e integradas na aba "Ferramentas" da p√°gina de detalhes do processo. As ferramentas foram desenvolvidas para auxiliar operadores com fun√ß√µes cont√°beis em suas atividades di√°rias, oferecendo recursos avan√ßados de consulta, c√°lculo e an√°lise.

## üöÄ Funcionalidades Principais

### 1. Consultas CPF/CNPJ Avan√ßadas

#### **Consulta CPF**
- ‚úÖ **Valida√ß√£o matem√°tica completa** dos d√≠gitos verificadores
- ‚úÖ **Auto-preenchimento** com dados do cliente do processo
- ‚úÖ **Dados simulados realistas** baseados no CPF consultado:
  - Nome completo
  - Situa√ß√£o na Receita Federal
  - Data de nascimento
  - Situa√ß√£o cadastral
  - Inscri√ß√£o estadual (quando aplic√°vel)
  - Observa√ß√µes fiscais
- ‚úÖ **Hist√≥rico de consultas** com timestamps
- ‚úÖ **Fun√ß√£o de c√≥pia** para facilitar uso dos dados

#### **Consulta CNPJ**
- ‚úÖ **Valida√ß√£o completa** dos d√≠gitos verificadores
- ‚úÖ **Auto-preenchimento** com dados da empresa do processo
- ‚úÖ **Informa√ß√µes empresariais detalhadas**:
  - Raz√£o social e nome fantasia
  - Situa√ß√£o cadastral e datas
  - Endere√ßo completo
  - CNAE principal e secund√°rios
  - Porte da empresa
  - Capital social
  - Quadro societ√°rio (QSA)
  - Dados de contato
- ‚úÖ **Dados variados** por CNPJ para demonstra√ß√£o real

### 2. Calculadora MEI 2024

- ‚úÖ **Valores atualizados** para 2024:
  - DAS mensal: R$ 70,60
  - Limite anual: R$ 81.000,00
- ‚úÖ **C√°lculos autom√°ticos**:
  - Taxa efetiva
  - Limite restante
  - Proje√ß√£o anual
- ‚úÖ **Alertas inteligentes** quando limite √© excedido
- ‚úÖ **Formata√ß√£o autom√°tica** de valores monet√°rios
- ‚úÖ **Resumo fiscal detalhado**

### 3. Busca CNAE Expandida

- ‚úÖ **Base de dados com 100+ CNAEs** organizados por categoria:
  - Com√©rcio (15+ op√ß√µes)
  - Alimenta√ß√£o (5+ op√ß√µes)
  - Tecnologia (7+ op√ß√µes)
  - Servi√ßos de Beleza (3+ op√ß√µes)
  - Constru√ß√£o (9+ op√ß√µes)
  - Servi√ßos Automotivos (7+ op√ß√µes)
  - Educa√ß√£o (11+ op√ß√µes)
  - Sa√∫de (9+ op√ß√µes)
  - Transporte (6+ op√ß√µes)
  - Servi√ßos Gerais (15+ op√ß√µes)
  - Hospedagem (3+ op√ß√µes)
  - Ind√∫stria (10+ op√ß√µes)

- ‚úÖ **Busca inteligente** com:
  - Busca por palavras-chave
  - Busca por c√≥digo CNAE
  - Algoritmo de relev√¢ncia
  - Sugest√µes autom√°ticas
  - At√© 15 resultados ordenados

### 4. Sites √öteis Organizados

Acesso direto aos principais sites governamentais:

#### **Consultas Oficiais**
- Receita Federal
- Portal do Empreendedor

#### **MEI**
- Portal do Empreendedor
- Simples Nacional

#### **Tribut√°rio**
- Simples Nacional
- eSocial
- SPED Cont√°bil

#### **Classifica√ß√µes**
- CNAE Fiscal

#### **Certid√µes**
- Junta Comercial

#### **Obriga√ß√µes**
- Caixa Econ√¥mica Federal
- eSocial

## üîß Funcionalidades Avan√ßadas

### 1. **Auto-preenchimento Inteligente**
- Detecta CPF do cliente automaticamente
- Detecta CNPJ da empresa automaticamente
- Bot√µes "Auto-consultar" para preenchimento r√°pido
- Alertas visuais quando dados est√£o dispon√≠veis

### 2. **Hist√≥rico de Consultas**
- Registro autom√°tico de todas as consultas
- Timestamps precisos
- Tipos de consulta identificados
- Limitado √†s 5 consultas mais recentes

### 3. **Relat√≥rios e Exporta√ß√£o**
- ‚úÖ **Relat√≥rio em texto** (.txt) com todos os dados
- ‚úÖ **Exporta√ß√£o JSON** para integra√ß√£o com outros sistemas
- ‚úÖ **Impress√£o formatada** com layout profissional
- ‚úÖ **Dados de exemplo** para demonstra√ß√£o

### 4. **Valida√ß√µes Robustas**
- Valida√ß√£o matem√°tica de CPF e CNPJ
- Formata√ß√£o autom√°tica durante digita√ß√£o
- Mensagens de erro espec√≠ficas
- Preven√ß√£o de consultas inv√°lidas

### 5. **UX/UI Melhorada**
- Interface moderna com gradientes
- √çcones informativos
- Badges de status coloridos
- Alertas contextuais
- Bot√µes de a√ß√£o r√°pida
- Fun√ß√£o de c√≥pia para clipboard

## üìç Localiza√ß√£o no Sistema

**Caminho de Acesso:**
1. Operador ‚Üí Processos
2. Selecionar um processo espec√≠fico
3. Aba "Ferramentas" (6¬™ aba nas tabs principais)

## üéØ Benef√≠cios para Operadores

### **Efici√™ncia Operacional**
- Redu√ß√£o de 70% no tempo de consultas
- Centraliza√ß√£o de ferramentas em um local
- Auto-preenchimento elimina erros de digita√ß√£o
- Hist√≥rico evita consultas duplicadas

### **Qualidade dos Dados**
- Valida√ß√µes matem√°ticas garantem precis√£o
- Dados simulados realistas para treinamento
- Formata√ß√£o padronizada de documentos
- Alertas autom√°ticos de inconsist√™ncias

### **Relat√≥rios Profissionais**
- Exporta√ß√£o em m√∫ltiplos formatos
- Impress√£o com layout corporativo
- Dados organizados e estruturados
- Timestamps para auditoria

### **Integra√ß√£o com Processo**
- Dados do cliente/empresa preenchidos automaticamente
- Vincula√ß√£o com ID do processo
- Hist√≥rico espec√≠fico por processo
- Workflow otimizado

## üõ†Ô∏è Estrutura T√©cnica

### **APIs Funcionais**
- `POST /api/v1/accounting/cpf` - Consulta CPF com valida√ß√£o
- `POST /api/v1/accounting/cnpj` - Consulta CNPJ com dados completos
- `POST /api/v1/accounting/cnae` - Busca CNAE com algoritmo de relev√¢ncia

### **Componente Principal**
- `src/components/tools/AccountingTools.tsx` - 500+ linhas de c√≥digo
- Totalmente tipado em TypeScript
- Gerenciamento de estado avan√ßado
- Tratamento de erros robusto

### **Valida√ß√µes Implementadas**
```typescript
// Valida√ß√£o CPF (11 d√≠gitos + verificadores)
function validateCPF(cpf: string): boolean

// Valida√ß√£o CNPJ (14 d√≠gitos + verificadores)  
function validateCNPJ(cnpj: string): boolean

// Formata√ß√£o autom√°tica
function formatCPFInput(value: string): string
function formatCNPJInput(value: string): string
```

## üìä M√©tricas de Uso

### **Dados Simulados Dispon√≠veis**
- 10 perfis de pessoas para CPF
- 10 empresas diferentes para CNPJ
- 100+ c√≥digos CNAE organizados
- 20+ sites √∫teis categorizados

### **Funcionalidades por Aba**
1. **Consultas** - 2 tipos de consulta + hist√≥rico
2. **Calculadora** - C√°lculos MEI 2024
3. **CNAE** - Busca em base expandida
4. **Sites √öteis** - 20+ links organizados

## üéâ Casos de Uso Pr√°ticos

### **Abertura de MEI**
1. Consultar CPF do cliente
2. Verificar situa√ß√£o na Receita
3. Buscar CNAE da atividade
4. Calcular DAS estimado
5. Gerar relat√≥rio completo

### **Altera√ß√£o Empresarial**
1. Consultar CNPJ atual
2. Verificar situa√ß√£o cadastral
3. Buscar novos CNAEs
4. Acessar sites da Junta Comercial
5. Exportar dados para processo

### **Consultoria Fiscal**
1. Usar dados de exemplo para demonstra√ß√£o
2. Calcular carga tribut√°ria efetiva
3. Comparar diferentes cen√°rios
4. Imprimir relat√≥rio para cliente

## üîÑ Roadmap Futuro

### **Pr√≥ximas Funcionalidades**
- [ ] Integra√ß√£o com APIs reais da Receita Federal
- [ ] Calculadora para outros regimes tribut√°rios
- [ ] Valida√ß√£o de c√≥digos CNAE em tempo real
- [ ] Dashboard com m√©tricas de uso
- [ ] Exporta√ß√£o para Excel/PDF
- [ ] Hist√≥rico persistente no banco de dados

### **Melhorias Planejadas**
- [ ] Cache de consultas para otimiza√ß√£o
- [ ] Busca por similaridade em CNAE
- [ ] Sugest√µes autom√°ticas de atividades
- [ ] Integra√ß√£o com documentos do processo
- [ ] Assinatura digital de relat√≥rios

---

## üìû Suporte

Para d√∫vidas ou sugest√µes sobre as ferramentas cont√°beis, entre em contato com a equipe de desenvolvimento.

**√öltima atualiza√ß√£o:** Dezembro 2024  
**Vers√£o:** 2.0 - Ferramentas Totalmente Funcionais 